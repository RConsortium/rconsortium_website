{
  "hash": "d85f20d4bb8b2a464f5496f1e211c1b3",
  "result": {
    "markdown": "---\ntitle: \"The U.S. Federal Reserve quarterly model in R\"\nauthor: \"Guest Blog Post\"\ndate: '2024-10-16'\noutput: html_document\n---\n\n\n\n_Guest Post contributed by Andrea Luciani, Bank of Italy, Directorate General for Economics, Statistics and Research, maintainer of the [bimets](https://CRAN.R-project.org/package=bimets) package (Time Series and Econometric Modeling) in CRAN_\n\nThe US Federal Reserve's econometric model for the US economy (i.e., FRB/US) is publicly available at [federalreserve.gov](https://www.federalreserve.gov/econres/us-models-about.htm). The website states, *\"FRB/US is a large-scale estimated general equilibrium model of the US economy that was developed at the Federal Reserve Board, where it has been in use since 1996 for forecasting, analysis of policy options, and research projects.\"*\n\nFRB/US is a quarterly model with hundreds of equations and variables. The model definition and time series data are available for download on the Federal Reserve website, as is the source code, which allows users to perform several econometric exercises. However, the Federal Reserve publicly distributes source codes only for EViews&trade; and python. \n\nIn this post, we show how to load the FRB/US model, and perform in R the same econometric exercises provided by the Federal Reserve.\n\n## The FRB/US model\n\nThe Federal Reserve website also states, *\"Compared with DSGE models, however, FRB/US applies optimization theory more flexibly, which permits its equations to better capture patterns in historical data and facilitates modeling the economy in greater detail... A distinctive feature of FRB/US is its ability to switch between alternative assumptions about how economic agents form expectations. Under the VAR-based option, expectations are derived from the average historical dynamics of the economy as manifested in the predictions of estimated VAR models. Under model-consistent (MC), agents are assumed to form accurate expectations of future outcomes as generated by simulations of FRB/US itself.\"*\n\nFRB/US is a quarterly model, and counts 284 equations and 365 variables (Feb. 2024 version). The XML model definition is available for download on the Federal Reserve website, and contains, for each endogenous variable, the following information: the variable name, the variable definition with a short description, the economic sector the variable belongs to, the related equation in both EViews&trade; and python format, coefficients and exogenous variables involved in the equation.\n\n64 endogenous variables are marked as stochastic and, during the stochastic simulation exercise, will be transformed by applying sequences of shocks as drawn randomly from their historical residuals. \n\n14 endogenous variables belong to the MCE group (i.e., Model-Consistent Expectations) and have an alternative equation that contains forward-looking references.\n\nFinally, at the end of the XML model definition, users can find additional information on economic sectors and exogenous variables involved in the model definition.\n\n## Moving towards R\n\nFRB/US model definition is available to R users in the `FRB__MODEL` dataset of the [bimets](https://CRAN.R-project.org/package=bimets) package (bimets ver. 4.0.2, a software framework for time series analysis and econometric modeling):\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#load bimets\nlibrary(bimets)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#load FRB/US MDL definition\ndata(FRB__MODEL)\n\n#print first 4 equations in model definition\ncat(substring(FRB__MODEL,1,1615))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nMODEL\n\n$DOWNLOADED FROM federalreserve.gov AND CONVERTED TO BIMETS MDL IN Feb, 2024\n\n$FRB/US is a large-scale estimated general equilibrium model of the U.S. economy \n$that was developed at the Federal Reserve Board, where it has been in use since 1996 \n$for forecasting, analysis of policy options, and research projects. \n\n$--------------------------------------------------------------------------\n\n$ ENDOGENOUS SECTION\n\n$-----------------------------------------------\n$Financial Sector\n$Monetary policy indicator for both thresholds\n$DMPTMAX equals one when either the unemployment threshold or\n$the inflation threshold is breached.\nIDENTITY> dmptmax\nIF> dmptlur>=dmptpi\nEQ> dmptmax=\ndmptlur\nIDENTITY> dmptmax\nIF> dmptlur<dmptpi\nEQ> dmptmax=\ndmptpi\n\n$-----------------------------------------------\n$Federal funds rate, first diff\nIDENTITY> delrff\nEQ> delrff=\nTSDELTA(rff)\n\n$-----------------------------------------------\n$Financial Sector\n$Monetary policy indicator for unemployment threshold\n$DMPTLUR equals zero when the unemployment rate is above its\n$threshold (LURTRSH) one when it is below. A logistic function\n$smoothes the transition, improving solution convergence properties.\nIDENTITY> dmptlur\nEQ> dmptlur=\n1/(1+EXP(25*(lur-lurtrsh)))\n\n$-----------------------------------------------\n$Financial Sector\n$Monetary policy indicator for inflation threshold\n$DMPTPI equals zero when expected inflation is below its threshold\n$and one when it is above. A logistic function smoothes the\n$transition, improving solution convergence properties.\nIDENTITY> dmptpi\nEQ> dmptpi=\n1/(1+EXP(-25*(zpic58-pitrsh)))\n```\n:::\n:::\n\n\n## Dynamic simulation in a monetary policy shock\n\nThe first econometric exercise proposed by the Federal Reserve is a dynamic simulation of the FRB/US model under a monetary policy shock. The simulation is operated from 2040-Q1 to 2045-Q4, after the `rffintay` time series, defined as *\"Value of eff. federal funds rate given by the inertial Taylor rule\"*, is shocked by 100 base points in 2040-Q1.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Load data\ndata(LONGBASE)\n\n# Load model\ndata(FRB__MODEL)\nmodel <- LOAD_MODEL(modelText = FRB__MODEL)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nAnalyzing behaviorals...\nAnalyzing identities...\nOptimizing...\nLoaded model \"FRB__MODEL\":\n    0 behaviorals\n  284 identities\n    0 coefficients\n...LOAD MODEL OK\n```\n:::\n\n```{.r .cell-code}\n# Load data into model\nmodel <- LOAD_MODEL_DATA(model, LONGBASE, quietly=TRUE)\n\n# Specify dates\nstart <- c(2040,1)\nend <- normalizeYP(start+c(0,23),4)\n\n# Standard configuration, use surplus ratio targeting\nmodel$modelData$dfpdbt[[start,end]] <- 0\nmodel$modelData$dfpsrp[[start,end]] <- 1\n\n# Solve to baseline with adds\nmodel <- SIMULATE(model,\n                  simType='RESCHECK',\n                  TSRANGE=c(start,end),\n                  ZeroErrorAC = TRUE,\n                  quietly=TRUE)\n\n# 100 bp monetary policy shock\ntrac <- model$ConstantAdjustmentRESCHECK\ntrac$rffintay[[start]] <- trac$rffintay[[start]]+1\n\n# Solve\nmodel <- SIMULATE(model,\n                  simAlgo = 'NEWTON',\n                  TSRANGE = c(start,end),\n                  ConstantAdjustment = trac,\n                  BackFill = 12,\n                  quietly=TRUE)\n```\n:::\n\n\nR code produces the following charts:\n\n![](FRB_R_1.png)\n\nOn the other hand, the python code provided by the US Federal Reserve produces very similar results:\n\n![](FRB_python_1.png)\n\n## Stochastic simulation\n\nAnother econometric exercise proposed by the Federal Reserve is a stochastic simulation of the FRB/US model. The `stochsim` procedure in the `pyfrbus` python package (available on the Federal Reserve web site) performs a stochastic simulation by applying sequences of shocks to 64 endogneous variables of the model, as drawn randomly from historical residuals. In a similar way in R, the `STOCHSIMULATE` procedure allows users to shock the same endogenous variables with randomly sampled historical residuals. \n\nR code, omitted for brevity, produces the following charts:\n\n![](FRB_R_5.png)\n\nOn the other hand, the python code provided by the US Federal Reserve produces very similar results, despite the random numbers generator being different between R and python:\n\n![](FRB_python_5.png)\n\n## ________________\n\nAdditional exercises, e.g., rational expectations, endogenous targeting, etc., and computational details are available in the package vignette [The U.S. Federal Reserve quarterly model in R\nwith bimets](https://cran.r-project.org/package=bimets/vignettes/frb2bimets.pdf)",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}